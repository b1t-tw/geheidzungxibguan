extends ../layout.pug
block variables
    - title = ' - 今晡日做粄仔／楊志雅'
block head
    link(rel="stylesheet" href="/assets/css/yang.css?version="+timestamp)
block body
    mixin ingr_modal(name, title, size)
        .modal.info-modal.fade(id=name+"Modal" tabindex='-1' aria-hidden='true')
            .modal-dialog.modal-lg.modal-dialog-centered: .modal-content
                .modal-header.px-4
                    button(type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close")
                .modal-body.px-4.pt-0
                    img(src="/assets/img/yang/thumb/"+name+".jpg")
                    h4= title
                    p
                        | 膠彩
                        br
                        =size
                        br
                        | 2021

    mixin ingr_button(name)
        a.ingr-click(href="#" data-bs-toggle="modal" data-bs-target="#"+name+"Modal" data-aos="zoom-in"): img(src="/assets/img/yang/thumb/"+name+".jpg")

    .modal.info-modal.fade#chouModal(tabindex='-1' aria-hidden='true')
        .modal-dialog.modal-dialog-centered.modal-lg: .modal-content
            .modal-header.px-4
                h3.modal-title 今晡日做粄仔／楊志雅
                button(type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close")
            .modal-body.px-4.pt-0
                h4.py-4 藝術家介紹
                p 1989年生於花蓮。2016年取得國立臺灣師範大學美術系水墨創作碩士學位，擅以東方複合媒材進行創作。近年創作多以日常料理與飲食習慣為主軸展開互動和實驗，結合採集採購、下廚煮食或與他人共桌進食的藝術行動，來探索人與人之間的關係，進而分享文化和交流生活價值之異同，期能喚醒活化飲食相關的生活記憶與感官經驗。
                h4.py-4 作品介紹
                p 計畫實際訪問調查城南地區客家長輩各式「粄」的製作方法，圍桌製食之際蒐集客家族群對於米食點心的記憶，同時側記客家族群遷入城南地區之不同路徑，與之連動的社交關係。創作者從後生的角度觀察記錄隱入生活當中的飲食習慣，透過東方媒材繪畫方法繪製成食譜，再以分享食材包的藝術互動方式，散播客家味緒，讓更多人得以用簡單入門的方法，在家試做客家點心！
                h4.py-4 訪談影片
    .container-fluid.pb-5#header: .row
        .col.order-md-1
            a.go-back(href="/main/#rooms")
                img(src="/assets/img/logo_small.png")
        .col-md-8.mt-5.mt-md-2
            h4 今晡日做粄仔／楊志雅
                a.more-info-button(role="button" href="#" data-bs-toggle="modal" data-bs-target="#chouModal"): i.far.fa-plus-square
            audio#bgm(src="/assets/audio/yang/bgm.mp3" autoplay)
            a.player.pause(href="#" data-audio="#bgm")
    
    +ingr_modal("aicaoban", "艾粄", "25 × 25 cm")
    +ingr_modal("pumpkinban", "南瓜粄", "25 × 25 cm")
    +ingr_modal("niuwenshui", "牛汶水", "25 × 25 cm")
    

    .container.final.pb-5
        .row.final-top
            .d-md-none.col#finalCarousel.carousel.slide(data-bs-ride='carousel')
                .carousel-inner
                    .carousel-item.px-5.active
                        a.ingr-click(href="#" data-bs-toggle="modal" data-bs-target="#aicaobanModal"): .final-left
                    .carousel-item.px-5
                        a.ingr-click(href="#" data-bs-toggle="modal" data-bs-target="#pumpkinbanModal"): .final-center
                    .carousel-item.px-5
                        a.ingr-click(href="#" data-bs-toggle="modal" data-bs-target="#niuwenshuiModal"): .final-right
                button.carousel-control-prev(type='button' data-bs-target='#finalCarousel' data-bs-slide='prev')
                    span.carousel-control-prev-icon(aria-hidden='true')
                    span.visually-hidden Previous
                button.carousel-control-next(type='button' data-bs-target='#finalCarousel' data-bs-slide='next')
                    span.carousel-control-next-icon(aria-hidden='true')
                    span.visually-hidden Next
            .col-4.d-none.d-md-block: a.ingr-click(href="#" data-bs-toggle="modal" data-bs-target="#aicaobanModal"): .final-left
            .col-4.d-none.d-md-block: a.ingr-click(href="#" data-bs-toggle="modal" data-bs-target="#pumpkinbanModal"): .final-center
            .col-4.d-none.d-md-block: a.ingr-click(href="#" data-bs-toggle="modal" data-bs-target="#niuwenshuiModal"): .final-right
        .row.px-4.d-md-none.mt-5
            img.w-100(src="/assets/img/yang/top/mid_title.png")
        .row.final-bottom
            .col-6.col-md-3: .final-left
            .d-none.d-md-block.col-6: .final-center
                img.img-title(src="/assets/img/yang/top/mid_title.png")
                img(src="/assets/img/yang/top/mid.png")
            .col-6.col-md-3: .final-right
        .row.d-md-none
            img.w-100(src="/assets/img/yang/top/mid.png")

    +ingr_modal("ginger", "薑", "20 × 20 cm")
    +ingr_modal("komushroom", "杏鮑菇", "15 × 11 cm")
    +ingr_modal("shrimps", "蝦米", "15 × 11 cm")
    +ingr_modal("pork", "絞肉", "15 × 11 cm")
    +ingr_modal("radish", "菜脯絲", "15 × 11 cm")
    +ingr_modal("beans", "紅豆", "20 × 20 cm")
    +ingr_modal("peanuts", "花生米", "15 × 11 cm")
    +ingr_modal("mushrooms", "香菇", "15 × 11 cm")
    +ingr_modal("glutinousrice", "糯米粉", "25 × 25 cm")
    +ingr_modal("sugar", "糖", "15 × 11 cm")
    +ingr_modal("shallot", "紅蔥頭", "15 × 11 cm")
    +ingr_modal("pumpkin", "南瓜", "25 × 25 cm")
    +ingr_modal("herbal", "艾草", "20 × 20 cm")
    
    .container.py-md-5: .ingredient: .text-center
            .ingr-w20
                +ingr_button("ginger")
            .ingr-w15
                +ingr_button("komushroom")
                +ingr_button("shrimps")
            .ingr-w15
                +ingr_button("pork")
                +ingr_button("radish")
            .ingr-w20
                +ingr_button("beans")
            .ingr-w15
                +ingr_button("peanuts")
                +ingr_button("mushrooms")
            .ingr-w25
                +ingr_button("glutinousrice")
            .ingr-w15
                +ingr_button("sugar")
                +ingr_button("shallot")
            .ingr-w25
                +ingr_button("pumpkin")
            .ingr-w20
                +ingr_button("herbal")

    mixin recipe_modal(id, name)
        .modal.info-modal.fade(id="modal-"+id tabindex='-1' aria-hidden='true')
            .modal-dialog.modal-lg.modal-dialog-centered: .modal-content
                .modal-header.px-4
                    button(type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close")
                .modal-body.px-4.pt-0
                    img(src="/assets/img/yang/recipe/"+name+".jpg")
                    
    mixin recipe_button(id, name)
        .col-md-4.my-2: a.recipe-click(href="#" data-bs-toggle="modal" data-bs-target="#modal-"+id): img(src="/assets/img/yang/recipe/"+name+".jpg")

    +recipe_modal("1-1", "1-阿娥01")
    +recipe_modal("1-2", "1-阿娥02")
    +recipe_modal("2-1", "2-邱大姐01")
    +recipe_modal("2-2", "2-邱大姐02")
    +recipe_modal("3-1", "3-葉媽01")
    +recipe_modal("3-2", "3-葉媽02")

    a#to-pre(href="/hsu" data-aos="fade-left" data-aos-anchor="#ytvideo"): i.fas.fa-chevron-circle-left
    a#to-top(href="#" data-aos="fade-up" data-aos-anchor="#ytvideo"): i.fas.fa-chevron-up
    a#to-post(href="/more" data-aos="fade-right" data-aos-anchor="#ytvideo"): i.fas.fa-chevron-circle-right
    .container.recipe.py-5
        #recipeCarousel.carousel.slide.d-none.d-md-block(data-bs-ride='carousel')
            .carousel-inner
                .carousel-item.active: .row
                    +recipe_button("1-1", "1-阿娥01")
                    +recipe_button("1-2", "1-阿娥02")
                    +recipe_button("2-1", "2-邱大姐01")
                .carousel-item: .row
                    +recipe_button("2-2", "2-邱大姐02")
                    +recipe_button("3-1", "3-葉媽01")
                    +recipe_button("3-2", "3-葉媽02")
            button.carousel-control-prev(type='button' data-bs-target='#recipeCarousel' data-bs-slide='prev')
                span.carousel-control-prev-icon(aria-hidden='true')
                span.visually-hidden Previous
            button.carousel-control-next(type='button' data-bs-target='#recipeCarousel' data-bs-slide='next')
                span.carousel-control-next-icon(aria-hidden='true')
                span.visually-hidden Next
        #recipeCarouselM.carousel.slide.d-md-none(data-bs-ride='carousel')
            .carousel-inner
                .carousel-item.active
                    +recipe_button("1-1", "1-阿娥01")
                .carousel-item
                    +recipe_button("1-2", "1-阿娥02")
                .carousel-item
                    +recipe_button("2-1", "2-邱大姐01")
                .carousel-item
                    +recipe_button("2-2", "2-邱大姐02")
                .carousel-item
                    +recipe_button("3-1", "3-葉媽01")
                .carousel-item
                    +recipe_button("3-2", "3-葉媽02")
            button.carousel-control-prev(type='button' data-bs-target='#recipeCarouselM' data-bs-slide='prev')
                span.carousel-control-prev-icon(aria-hidden='true')
                span.visually-hidden Previous
            button.carousel-control-next(type='button' data-bs-target='#recipeCarouselM' data-bs-slide='next')
                span.carousel-control-next-icon(aria-hidden='true')
                span.visually-hidden Next
        iframe#ytvideo.pb-5(src='https://www.youtube.com/embed/jHB-iuiNLNc' title='YouTube video player' frameborder='0' allow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture' allowfullscreen)

block script
    script.
        $(".player").on("click", function(e) {
            e.preventDefault();
            let audioDom = $($(this).data("audio"))[0];
            if(audioDom.paused) {
                audioDom.play();
                $(this).removeClass("pause");
                $(this).addClass("play");
            } else {
                audioDom.pause();
                $(this).removeClass("play");
                $(this).addClass("pause");
            }
        });
        $(function() {
            $("#bgm")[0].play();
            if(!$("#bgm")[0].paused) {
                $(".player").removeClass("pause");
                $(".player").addClass("play");
            }
        });